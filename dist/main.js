"use strict";(self.webpackChunk_cs_magic_exts_chrome_chatbot_exporter=self.webpackChunk_cs_magic_exts_chrome_chatbot_exporter||[]).push([[792],{605:(e,t,r)=>{var n=r(295),o=r(827),a=r(431);var i;!function(e){e.default="default",e.Claude="Claude",e.ChatGPT="ChatGPT",e.Perplexity="Perplexity",e.Mita="Mita",e.JieYue="JieYue"}(i||(i={}));const c=()=>{switch((()=>{const e=window.location.href.toLowerCase();return e.startsWith("https://chatgpt.com/c/")?i.ChatGPT:e.startsWith("https://claude.ai/chat/")?i.Claude:e.startsWith("https://www.perplexity.ai/search/")?i.Perplexity:e.startsWith("https://metaso.cn/search/")?i.Mita:e.startsWith("https://yuewen.cn/chats/")?i.JieYue:i.default})()){case i.Perplexity:return document.querySelector(".col-span-8");case i.ChatGPT:return document.querySelector(".composer-parent").firstElementChild;case i.Claude:return document.querySelector(".sticky.bottom-0").previousElementSibling;case i.Mita:return document.querySelector("[class*='Search_search-result__']");case i.JieYue:return document.querySelector("[class*='message-list_inner__']");default:return null}};var s=r(427),l=r.n(s),u=r(193);const d=async(e,{approach:t="modern-screenshot",filename:r="screenshot",backgroundColor:n="white",format:o="jpeg"}={})=>{let a;window.innerWidth>=1280||window.innerWidth>=1024||window.innerWidth>=768||window.innerWidth;switch(t){case"html2canvas":a=(await l()(e,{logging:!0,allowTaint:!0,useCORS:!0,height:e.scrollHeight,windowHeight:e.scrollHeight,backgroundColor:n,scale:2})).toDataURL("image/jpeg");break;case"modern-screenshot":a=await(0,u.TC)(e,{scale:2,quality:.9,backgroundColor:n})}const i=document.createElement("a");i.download=r,i.href=a,i.click()};var h=r(814);const g=()=>{const e=(0,h.Ub)({query:"(prefers-color-scheme: dark)"})?"#21211E":"white";return()=>{const t=c();if(!t)return alert("no content to be exported");d(t,{approach:window.origin.includes("chatgpt.com")?"html2canvas":"modern-screenshot",filename:`${(new Date).toISOString().split("T")[0]} - chat - ${document.querySelector("title").textContent}.jpeg`,backgroundColor:e})}};var m=r(603),p=r(509),f=r(439),w=r(379);function v(...e){return(0,w.QP)((0,f.$)(e))}const b=(0,p.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=a.forwardRef((({className:e,variant:t,size:r,asChild:o=!1,...a},i)=>{const c=o?m.DX:"button";return(0,n.jsx)(c,{className:v(b({variant:t,size:r,className:e})),ref:i,...a})}));x.displayName="Button";var y,C,k,_,S,j=r(269),E=r.n(j);function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W.apply(null,arguments)}const P=function(e){return a.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128"},e),y||(y=a.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:6,d:"M32 48h64a16 16 0 0 1 0 32H32a16 16 0 0 1 0-32"})),C||(C=a.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:6,d:"M64 80v24l8-8"})),k||(k=a.createElement("circle",{cx:48,cy:64,r:4,fill:"currentColor"})),_||(_=a.createElement("circle",{cx:64,cy:64,r:4,fill:"currentColor"})),S||(S=a.createElement("circle",{cx:80,cy:64,r:4,fill:"currentColor"})))},q=document.createElement("div");var M,O;document.body.appendChild(q),M=q,O=()=>{const[e,t]=a.useState(!1),r=g();return(0,n.jsx)(E(),{axis:"y",onDrag:()=>{t(!0)},onStop:()=>{e||r(),t(!1)},children:(0,n.jsx)(x,{size:"sm",className:"fixed top-1/3 right-0 z-[9999] !rounded-l-full bg-indigo-500/50 hover:bg-indigo-500 text-white !w-12 !h-8",children:(0,n.jsx)(P,{width:32})})})},o.createRoot(M).render((0,n.jsx)(a.StrictMode,{children:(0,n.jsx)(O,{})}))}},e=>{e.O(0,[96],(()=>{return t=605,e(e.s=t);var t}));e.O()}]);